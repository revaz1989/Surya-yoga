# Systemd service configuration for Surya Yoga
# Save as /etc/systemd/system/suryayoga.service

[Unit]
Description=Surya Yoga Next.js Application
After=network.target
Requires=network.target

[Service]
Type=simple
User=suryayoga
Group=suryayoga
WorkingDirectory=/var/www/suryayoga
Environment=NODE_ENV=production
EnvironmentFile=/var/www/suryayoga/.env.production
ExecStart=/usr/bin/node /var/www/suryayoga/server.js
Restart=always
RestartSec=10
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=suryayoga

# Security settings
NoNewPrivileges=yes
PrivateTmp=yes
ProtectSystem=strict
ReadWritePaths=/var/lib/suryayoga
ProtectHome=yes
ProtectKernelTunables=yes
ProtectKernelModules=yes
ProtectControlGroups=yes

[Install]
WantedBy=multi-user.target